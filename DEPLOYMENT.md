# Deployment Guide

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é Reshop - Digital Marketplace.

## üöÄ –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Reshop –≤ production —Å—Ä–µ–¥–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:
- PostgreSQL –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- Gunicorn –¥–ª—è WSGI —Å–µ—Ä–≤–µ—Ä–∞
- Nginx –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- Supervisor –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
- Let's Encrypt –¥–ª—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Internet ‚Üí Nginx ‚Üí Gunicorn ‚Üí Django ‚Üí PostgreSQL
                ‚Üì
            Static Files
                ‚Üì
            Redis Cache
```

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–∞
- Ubuntu 20.04+ / CentOS 8+ / Debian 11+
- 2GB RAM –º–∏–Ω–∏–º—É–º
- 20GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- Root –¥–æ—Å—Ç—É–ø –∏–ª–∏ sudo –ø—Ä–∞–≤–∞

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ
- Python 3.11+
- PostgreSQL 13+
- Redis 6+
- Nginx 1.18+
- Supervisor 4.0+

## üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```bash
# Ubuntu/Debian
sudo apt update && sudo apt upgrade -y

# CentOS/RHEL
sudo yum update -y
# –∏–ª–∏
sudo dnf update -y
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

```bash
# Ubuntu/Debian
sudo apt install -y curl wget git build-essential python3.11 python3.11-venv python3.11-dev

# CentOS/RHEL
sudo yum install -y curl wget git gcc python3.11 python3.11-devel
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo useradd -r -s /bin/false reshop
sudo mkdir -p /opt/reshop
sudo chown reshop:reshop /opt/reshop
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### PostgreSQL

```bash
# Ubuntu/Debian
sudo apt install -y postgresql postgresql-contrib

# CentOS/RHEL
sudo yum install -y postgresql postgresql-server postgresql-contrib
sudo postgresql-setup initdb
sudo systemctl enable postgresql
sudo systemctl start postgresql
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è postgres
sudo -u postgres psql

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
CREATE USER reshop_user WITH PASSWORD 'your_secure_password';
CREATE DATABASE reshop OWNER reshop_user;
GRANT ALL PRIVILEGES ON DATABASE reshop TO reshop_user;
\q

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
sudo nano /etc/postgresql/*/main/pg_hba.conf
# –î–æ–±–∞–≤—å—Ç–µ: local reshop reshop_user md5

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ PostgreSQL
sudo systemctl restart postgresql
```

## üî¥ Redis

```bash
# Ubuntu/Debian
sudo apt install -y redis-server

# CentOS/RHEL
sudo yum install -y redis
sudo systemctl enable redis
sudo systemctl start redis

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redis
sudo nano /etc/redis/redis.conf
# –ò–∑–º–µ–Ω–∏—Ç–µ: bind 127.0.0.1
sudo systemctl restart redis
```

## üåê Nginx

```bash
# Ubuntu/Debian
sudo apt install -y nginx

# CentOS/RHEL
sudo yum install -y nginx
sudo systemctl enable nginx
sudo systemctl start nginx
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx

```bash
# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo cp nginx.conf /etc/nginx/sites-available/reshop
sudo ln -s /etc/nginx/sites-available/reshop /etc/nginx/sites-enabled/

# –£–¥–∞–ª–µ–Ω–∏–µ default —Å–∞–π—Ç–∞
sudo rm /etc/nginx/sites-enabled/default

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo nginx -t

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx
sudo systemctl restart nginx
```

## üêç Python –∏ Django

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è reshop
sudo -u reshop bash

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
cd /opt
git clone https://github.com/rel0ker/reshop.git
cd reshop

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python3.11 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt
pip install gunicorn psycopg2-binary
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞
cp env.example .env

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ .env
nano .env
```

```bash
# .env
SECRET_KEY=your-super-secret-key-here
DEBUG=False
ALLOWED_HOSTS=your-domain.com,www.your-domain.com
DATABASE_URL=postgresql://reshop_user:your_secure_password@localhost:5432/reshop
REDIS_URL=redis://localhost:6379/0
YOOKASSA_SHOP_ID=your_shop_id
YOOKASSA_SECRET_KEY=your_secret_key
```

### 3. –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

```bash
# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
python manage.py migrate

# –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python manage.py createsuperuser

# –°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
python manage.py collectstatic --noinput

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –º–µ–¥–∏–∞
mkdir -p media
chmod 755 media
```

## üöÄ Gunicorn

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Gunicorn
pip install gunicorn

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nano gunicorn.conf.py
```

```python
# gunicorn.conf.py
bind = "unix:/opt/reshop/reshop.sock"
workers = 3
worker_class = "sync"
worker_connections = 1000
max_requests = 1000
max_requests_jitter = 50
timeout = 30
keepalive = 2
preload_app = True
```

### Supervisor

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Supervisor
sudo apt install -y supervisor

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo nano /etc/supervisor/conf.d/reshop.conf
```

```ini
[program:reshop]
command=/opt/reshop/venv/bin/gunicorn -c /opt/reshop/gunicorn.conf.py digital_marketplace.wsgi:application
directory=/opt/reshop
user=reshop
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/reshop/gunicorn.log
stderr_logfile=/var/log/reshop/gunicorn_error.log
environment=HOME="/opt/reshop",USER="reshop"
```

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ª–æ–≥–æ–≤
sudo mkdir -p /var/log/reshop
sudo chown reshop:reshop /var/log/reshop

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Supervisor
sudo supervisorctl reread
sudo supervisorctl update
sudo supervisorctl start reshop
```

## üîí SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

### Let's Encrypt

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot
sudo apt install -y certbot python3-certbot-nginx

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot --nginx -d your-domain.com -d www.your-domain.com

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo crontab -e
# –î–æ–±–∞–≤—å—Ç–µ: 0 12 * * * /usr/bin/certbot renew --quiet
```

## üîß –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–≥–∏

```bash
# Django –ª–æ–≥–∏
tail -f /var/log/reshop/django.log

# Gunicorn –ª–æ–≥–∏
tail -f /var/log/reshop/gunicorn.log

# Nginx –ª–æ–≥–∏
tail -f /var/log/nginx/access.log
tail -f /var/log/nginx/error.log

# Supervisor –ª–æ–≥–∏
tail -f /var/log/supervisor/supervisord.log
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
sudo systemctl status nginx postgresql redis
sudo supervisorctl status

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
htop
df -h
free -h

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
sudo netstat -tlnp
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Firewall

```bash
# UFW (Ubuntu)
sudo ufw allow 22/tcp
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw enable

# iptables (CentOS)
sudo iptables -A INPUT -p tcp --dport 22 -j ACCEPT
sudo iptables -A INPUT -p tcp --dport 80 -j ACCEPT
sudo iptables -A INPUT -p tcp --dport 443 -j ACCEPT
sudo service iptables save
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
sudo apt install -y unattended-upgrades
sudo dpkg-reconfigure -plow unattended-upgrades

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
cd /opt/reshop
source venv/bin/activate
pip install --upgrade -r requirements.txt
```

## üìä –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
#!/bin/bash
# backup_db.sh

DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="/opt/reshop/backups"
DB_NAME="reshop"
DB_USER="reshop_user"

mkdir -p $BACKUP_DIR
pg_dump -U $DB_USER $DB_NAME > $BACKUP_DIR/reshop_$DATE.sql

# –°–∂–∞—Ç–∏–µ
gzip $BACKUP_DIR/reshop_$DATE.sql

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
find $BACKUP_DIR -name "*.sql.gz" -mtime +30 -delete
```

### –ú–µ–¥–∏–∞ —Ñ–∞–π–ª—ã

```bash
#!/bin/bash
# backup_media.sh

DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="/opt/reshop/backups"
MEDIA_DIR="/opt/reshop/media"

mkdir -p $BACKUP_DIR
tar -czf $BACKUP_DIR/media_$DATE.tar.gz -C $MEDIA_DIR .

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
find $BACKUP_DIR -name "media_*.tar.gz" -mtime +30 -delete
```

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ crontab
sudo crontab -e

# –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ 2:00
0 2 * * * /opt/reshop/backup_db.sh
30 2 * * * /opt/reshop/backup_media.sh
```

## üö® Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. 500 –æ—à–∏–±–∫–∞
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -f /var/log/reshop/gunicorn.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la /opt/reshop/
sudo chown -R reshop:reshop /opt/reshop
```

#### 2. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
```bash
# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
cd /opt/reshop
source venv/bin/activate
python manage.py collectstatic --noinput

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞
sudo chmod -R 755 /opt/reshop/static/
```

#### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å PostgreSQL
sudo systemctl status postgresql

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
sudo -u postgres psql -c "\l"
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
sudo systemctl restart nginx postgresql redis
sudo supervisorctl restart reshop

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo nginx -t
sudo supervisorctl reread

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
redis-cli FLUSHALL
```

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
CREATE INDEX idx_product_title ON core_product(title);
CREATE INDEX idx_product_description ON core_product(description);
CREATE INDEX idx_order_created ON core_order(created_at);
CREATE INDEX idx_user_email ON core_user(email);

-- –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
ANALYZE core_product;
ANALYZE core_order;
ANALYZE core_user;
```

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
# settings.py
CACHES = {
    'default': {
        'BACKEND': 'django.core.cache.backends.redis.RedisCache',
        'LOCATION': 'redis://127.0.0.1:6379/1',
        'OPTIONS': {
            'CLIENT_CLASS': 'django_redis.client.DefaultClient',
        }
    }
}

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞ –≤ views
from django.core.cache import cache

def get_products():
    products = cache.get('products')
    if products is None:
        products = Product.objects.all()
        cache.set('products', products, 300)  # 5 –º–∏–Ω—É—Ç
    return products
```

### Gunicorn –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

```python
# gunicorn.conf.py
bind = "unix:/opt/reshop/reshop.sock"
workers = (2 * multiprocessing.cpu_count()) + 1
worker_class = "gevent"
worker_connections = 1000
max_requests = 1000
max_requests_jitter = 50
timeout = 30
keepalive = 2
preload_app = True
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
#!/bin/bash
# update.sh

cd /opt/reshop

# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
./backup_db.sh
./backup_media.sh

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
git pull origin main

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
source venv/bin/activate
pip install --upgrade -r requirements.txt

# –ú–∏–≥—Ä–∞—Ü–∏–∏
python manage.py migrate

# –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
python manage.py collectstatic --noinput

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo supervisorctl restart reshop

echo "Update completed!"
```

### –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
sudo supervisorctl stop reshop

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
cd /opt/reshop
git pull origin main
source venv/bin/activate
pip install --upgrade -r requirements.txt
python manage.py migrate
python manage.py collectstatic --noinput

# –ó–∞–ø—É—Å–∫
sudo supervisorctl start reshop
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Django Deployment Checklist](https://docs.djangoproject.com/en/stable/howto/deployment/checklist/)
- [Gunicorn Configuration](https://docs.gunicorn.org/en/stable/configure.html)
- [Nginx Configuration](https://nginx.org/en/docs/)
- [PostgreSQL Administration](https://www.postgresql.org/docs/current/admin.html)
- [Redis Documentation](https://redis.io/documentation)
- [Supervisor Documentation](http://supervisord.org/)

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
4. –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

–£–¥–∞—á–∏ —Å production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º! üöÄ
